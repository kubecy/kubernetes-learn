# Job控制器简介

## 1.Job控制器的应用编排机制

1. Job负责编排运行有结束时间的“一次性”任务，而前面的Deployment和DaemonSet主要负责编排始终运行的守护进程类应用；
   - 控制器要确保Pod内的进程“正常（成功完成任务）”地退出
   - 非正常退出的Pod可以根据需要重启，并在重试一次的次数后终止
   - 有些Job是单次任务，也有些Job需要运行多次（次数通常固定）
   - 有些任务支持同时创建及并行运行多个Pod以加快任务处理速度，Job控制器还允许用户自定义其并行度
2. 需要周期性运行的Job，则由CronJob控制器负责编排
   - CronJob建立在Job的功能之上，是更高层级的控制器
   - 它以Job控制器完成单批次的任务编排，而后为这种Job作业提供需要运行的周期定义

## 2.并行式Job

1. Job对象能够支持多个Pod的可靠、并发执行
   - 编排彼此间相互通信的并行进程并非Job的设计目标，它仅用于支撑一组相互独立而又有所关联的工作任务的并行处理
   - 常见的场景，有如发送电子邮件、渲染视频帧、编解码文件、NoSQL数据库中扫描主键范围等
2. 并行式Job的关键配置参数
   - parallelism：任务并行度，即最大可同行运行的Pod数量，可以将其理解为工作队列的数量
   - completions：总共需要完成的任务数量，即总共需要多少个相关的Pod成功完成执行，通常要大于parallelism的值